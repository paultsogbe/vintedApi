"use strict";var express=require("express"),router=express.Router(),createStripe=require("stripe"),stripe=createStripe(process.env.STRIPE_API_SECRET);router.post("/payment",function(r,t){var s,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r.body),e.prev=1,e.next=4,regeneratorRuntime.awrap(stripe.charges.create({amount:(100*r.body.amount).toFixed(0),currency:"eur",description:"Paiement vinted pour : ".concat(r.body.title),source:r.body.token}));case 4:s=e.sent,o=s.status,t.json({status:o}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message),t.status(500).json({message:e.t0.message});case 13:case"end":return e.stop()}},null,null,[[1,9]])}),module.exports=router;
//# sourceMappingURL=payment.min.js.map
